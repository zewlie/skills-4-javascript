<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Skills-Javascript</title>
  <style>
    body {
      counter-reset: h3counter;
      font-family: sans-serif;
    }
    input[type=button],
    input[type=submit],
    button {
      padding: 0.5em;
      background-color: powderblue;
      border-radius: 10px;
    }
    fieldset {
      border-color: #ccc;
      box-shadow: 3px 3px 8px #ccc;
      margin: 2em 1em;
    }
    h2 {
      margin-top: 5em;
      font-size: 200%;
    }
    h3 {
      margin-top: 4em;
    }
    h3:before {
      counter-increment: h3counter;
      content: counter(h3counter) ". ";
    }
    .hint {
      border: dashed 1px black;
      margin: 1em 0;
      padding: 1em;
    }
    .hint:before {
      font-style: italic;
      content: "Hint -- hover to reveal";
    }
    .hint > div {
      color: white;
      padding-top: 1em;
    }
    .hint > div:hover {
      color: black;
    }
    .prime-box {
      color: white;
      text-shadow: 2px 2px 3px black;
      border-radius: 50%;
      box-shadow: 3px 3px 10px #666;
      width: 3em;
      padding: 1em 0;
      text-align: center;
      font-size: 200%;
      font-family: sans-serif;
      display: inline-block;
      margin-right: 1em;
    }
  </style>

  <script src="https://code.jquery.com/jquery-2.1.4.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js"></script>
</head>
<body>

<!-- <h1>Skills&mdash;Javascript</h1>
<p>
  For each numbered problem, fill in the corresponding <code>&lt;script&gt;</code> section in the
  source with Javascript to solve the problem.</p>
<p>
  <b>Note:</b> you should only add Javascript; you cannot change the HTML otherwise <b>at all</b>.
</p>

<img src="http://cdn.meme.am/instances/500x/58307737.jpg"> -->


<h2>Plain Javacript</h2>
<p>You may not use jQuery for this section!</p>

<h3>Making an Event Handler</h3>
<p>
  Make this button pop up an alert box in the
  browser window.
</p>

<fieldset>
<input type="button" value="Show Me a Popup!" id="popup-alert-button">
</fieldset>

<script>

var alertButton = document.getElementById('popup-alert-button');

function getAlert(evt) {
    alert("Here's an alert!");
}

alertButton.addEventListener('click', getAlert);

</script>





<h3>Manipulating the DOM</h3>
<p>Change the word "hello" to "goodbye" when the button is pressed.</p>
<p>(Don't get rid of the italics tag itself, though!)</p>

<fieldset>
  <i id="message-to-change">hello</i>
  <button id="change-hello-to-goodbye-button">Turn <b>Hello</b> Into <b>Goodbye</b></button>
  <!-- Hey, look, that was another way to do a button - what might it be good for? -->
</fieldset>

<script>

var goodbyeButton = document.getElementById('change-hello-to-goodbye-button');
var message = document.getElementById('message-to-change');

function sayGoodbye(evt) {
    message.innerText = 'goodbye';
}

goodbyeButton.addEventListener('click', sayGoodbye);

</script>






<h3>Preventing Form Submission</h3>
<p>
  Normally, for this form, it submits to <code>some-script</code>. Make it pop up an
  alert box instead.
</p>

<fieldset>
  <form action="some-script" id="prevent-form-submission-form">
    <input type="text" name="favorite-color" id="favorite-color-field">
    <input type="submit" id="prevent-form-submission-button" value="Just an Alert, Please!">
  </form>
</fieldset>

<script>

var submitForm = document.getElementById('prevent-form-submission-form');

function preventFormSubmit(evt) {
    evt.preventDefault();
    alert("Form submission prevented!")
}

submitForm.addEventListener('submit', preventFormSubmit);

</script>






<h3>Reversing a String</h3>
<p>
  There's some incomplete Javascript code below. When the button is pushed, it pops up an
  alert box with a message. Reverse the order of the message, so "Porcupines are cute" would
  become "etuc era senipucroP". You must do this reversal programmatically; you cannot just
  type in the reversed string yourself!
</p>

<fieldset>
  <input type="button" id="reverse-string-button" value="!nottuB">
</fieldset>

<script>

var reverseStringButton = document.getElementById('reverse-string-button');

// Note to self: strings in Javascript are immutable!

function reverseString(stringToReverse) {

    var stringToReverse = "Porcupines are cute";

    stringChars = stringToReverse.split("");
    stringChars = stringChars.reverse();
    
    var stringReversed = stringChars.join("");
    alert(stringReversed);
}

reverseStringButton.addEventListener('click', reverseString);

</script>






<h2>jQuery</h2>
<p>You should use jQuery for these parts.</p>
<p>We didn't include jQuery in this document, though&mdash;so your first task is to include it!</p>



<h3>Finding the Button</h3>
<p>
  When you click this button, pop up an alert box. <b>Remember, you cannot change the HTML!</b>
</p>

<fieldset>
  <input type="button" class="tricky-to-find" value="Pop-Up Please!">
</fieldset>

<script>

function sendAlert(evt) {
    alert("Clicked!");
}

$(':button.tricky-to-find').on('click', sendAlert);



</script>




<h3>Down with Cats!</h3>
<p>
  After complaints from Cynthia about our cat-centered curriculum, you now need to change
  the following image of a cat to one of a dog when you double-click on the cat
  (you can Google for any cute dog photo you
  want). Do this in jQuery.
</p>

<fieldset>
  <img src="http://www.wallspick.com/wp-content/uploads/2014/12/Grey-Eyes-Cute-Cat-640x400.jpg"
       alt="Adorbz" id="kittenz-rule">
</fieldset>

<script>
  // put your code here

function replaceWithDog(evt) {
    $('#kittenz-rule').attr('src','http://hdwallpaperia.com/wp-content/uploads/2015/04/Dog-Friend-House-640x400-640x400.jpg');
}

$('#kittenz-rule').on('dblclick', replaceWithDog);

</script>




<h3>Slowly Make a Porcupine</h3>
<p>
  After complaints from Joel about the lack of cute porcupines in our exercises,
  you're now tasked with having a cute porcupine appear when the button is pushed.
</p>
<p>However:</p>
<ul>
  <li>You must pause one second after the button is pushed for the image to appear</li>
  <li>You should use a jQuery appear-via-animation method for this to appear. You can
  try things like <code>fadeIn</code> or <code>slideDown</code>. For extra points, can you
  make this animate itself happen slowly?</li>
</ul>

<fieldset>
  <img src="http://mytrial.typepad.com/.a/6a0147e199a17d970b0153906b3209970b-pi"
      id="cute-porcupine-image" style="display: none">
  <input type="button" id="make-a-porcupine" value="I Want a Porcupine!">
</fieldset>

<script>

function animatePorcupine() {
    $('#cute-porcupine-image').fadeIn(30000);
}

function producePorcupine(evt) {
    setTimeout(animatePorcupine, 1000);
}

$('#make-a-porcupine').on('click', producePorcupine);

</script>

<p>End of Skills Assessment. Read on for advanced problems. :)</p>



<h2>Advanced!</h2>
<p>
  Hey, we know you're smart and becoming a Javascript ninja. So we've given you these
  exercises which are, frankly, really tough. Don't feel badly if you need to practice the
  above a few times first, or need to get some hints or help here. They're trickier and
  definitely take much longer.
</p>
<p>You can either do these with or without jQuery, as you please.</p>
<p>But, really, these are <blink>hard</blink>.</p>


<h3>An Agreeable Form</h3>
<p>
  When the user submits the form below, it should fill in the div to agree with the
  user. So if I saw my favorite food is "pretzels", a message should appear in that div
  that says "I like pretzels, too."
</p>

<fieldset>
  <form action="/oh-no-do-not-go-here" id="agreeable-form">
    What's your favorite food?
    <input type="text" name="favorite-food" required
           id="favorite-food-input">
    <input type="submit" value="I'm Very Agreeable">
  </form>
  <div id="agreeable-text"></div>
</fieldset>

<script>


function beAgreeable(evt) {
    evt.preventDefault();

    var favoriteFood = $('#favorite-food-input').val();
    $('#agreeable-text').text("I like " + favoriteFood + ", too!");

    // No jQuery:
    // var agree = document.getElementById('agreeable-text');
    // agree.innerText = 'New content between tags!';
}

$('#agreeable-form').on('submit', beAgreeable);

</script>


<h3>Number-Guessing Game</h3>
<p>
  Make the classic "guess-a-number-between-1-and-100" in Javascript.
</p>
<p>
  The user starts the game by clicking the button.
  This should then guess a random integer from 1 to 100 (StackOverflow is probably helpful here!).
  It should then keep popping up a Javascript <code>prompt</code> box to ask for a number.
  If you guess too high or too low, pop up an alert to say so. When the user gets the right
  number, congratulate them in an alert box, and then stop prompting them for numbers (well,
  at least until they press the button again!)
</p>

<fieldset>
  <input type="button" id="play-guessing-game" value="Play!">
</fieldset>

<script>

function randomOneToHundred() {

    // Math.floor rounds a float down; e.g. 1.9 -> 1.
    // Math.random returns a float from 0 (inclusive) to 1 (NOT inclusive).
    // Math.floor(Math.random() * 100) will return ints from 0 to 99.
    // So, to get ints from 1 to 100 (inclusive), add 1.

    return Math.floor(Math.random() * 100) + 1;
}

function startGame(evt) {
    var winningNum = randomOneToHundred();
    var guessNum = prompt("Guess a number from 1 to 100.");
    var notYetWon = true;

    while (notYetWon == true){
        if (isNaN(guessNum) == true || guessNum == null || guessNum == '') {
            guessNum = prompt("You didn't guess a number! Try again!");
        } else if (winningNum > guessNum) {
            guessNum = prompt("You guessed " + guessNum + ". Too low! Try again.");
        } else if (winningNum < guessNum) {
            guessNum = prompt("You guessed " + guessNum + ". Too high! Try again.");
        } else if (winningNum == guessNum) {
            alert("Congratulations! " + guessNum + " was correct!");
            notYetWon = false;
        }
    }
}

$('#play-guessing-game').on('click', startGame);

</script>






<h3>Less Annoying Number-Guessing Game</h3>
<p>
  That was fun! But, wow, all those alerts and prompts are annoying, aren't they?
</p>
<p>
  Write a new version that uses a simple form field for the number, and outputs the
  too-high/too-low/just-right into the div next to it.
</p>
<p>
  The game should start when they press the play button. Until they guess the right number,
  though, that button should no longer work again. Similarly, the numbered-guessed field
  and try-this-number button shouldn't be enabled if they're not playing. Tricky!
</p>

<fieldset>
  <input type="button" id="play-guessing-game-2" value="Play!">
  <form action="do-not-go-here" id="guessing-game-2-form">
    <input id="number-guessed" name="number-guessed" type="number" placeholder="Guess" disabled>
    <!-- hey! go read MDN about the "number" input type. Cool, huh? -->
    <input type="submit" id="try-this-number" value="Guess" disabled>
    <div id="number-guessing-msg"></div>
  </form>
</fieldset>

<script>

var winningNum = 0;

function randomOneToHundred() {

    // Math.floor rounds a float down; e.g. 1.9 -> 1.
    // Math.random returns a float from 0 (inclusive) to 1 (NOT inclusive).
    // Math.floor(Math.random() * 100) will return ints from 0 to 99.
    // So, to get ints from 1 to 100 (inclusive), add 1.

    return Math.floor(Math.random() * 100) + 1;
}

function makeGuess(evt) {
    evt.preventDefault();
    guessNum = $('#number-guessed').val();

        if (winningNum > guessNum) {
            $('#number-guessing-msg').text("You guessed " + guessNum + ". Too low! Try again.");
        } else if (winningNum < guessNum) {
            $('#number-guessing-msg').text("You guessed " + guessNum + ". Too high! Try again.");
        } else if (winningNum == guessNum) {
            // Disable Guess field & button, enable Play! button.
            $('#number-guessed').prop('disabled', true);
            $('#try-this-number').prop('disabled', true);
            $('#play-guessing-game-2').prop('disabled', false); 
            $('#number-guessing-msg').text("You won!");    
        }

    console.log(guessNum);
    console.log(winningNum);
}

$('#guessing-game-2-form').on('submit', makeGuess);

function startGame2(evt) {
    // Disable Play! button, enable Guess field & button.
    $('#number-guessed').prop('disabled', false);
    $('#try-this-number').prop('disabled', false);
    $('#play-guessing-game-2').prop('disabled', true);

    winningNum = randomOneToHundred();

    console.log(winningNum);
  
}

$('#play-guessing-game-2').on('click', startGame2);

</script>




<h3>Five Colored Primes</h3>
<p>
  When the button is pushed, five new boxes should appear in the bordered area.
  (A prime number is an integer greater than 1 which cannot be divided evenly by any other
  number other than itself and 1. For example, 11 is prime (you can only divide it by 1 and 11),
  while 12 is not (you can divide it evenly by 2, 3, 4, and 6, along with 1 and 12).
</p>
<p>
  Each box should contain the text of the next prime number. Each box should have a different
  color, chosen from the list of colors in the Javascript. You can re-use our <code>prime-box</code>
  class to make your numbers look like ours, if you want (or feel free to experiment with other
  CSS).
</p>
<p>This should look like:</p>
<div>
  <div class="prime-box" style="background-color: orange">2</div>
  <div class="prime-box" style="background-color: midnightblue">3</div>
  <div class="prime-box" style="background-color: darkgoldenrod">5</div>
  <div class="prime-box" style="background-color: green">7</div>
  <div class="prime-box" style="background-color: purple">11</div>
</div>
<p>You must calculate the prime numbers; you cannot just type them in.</p>

<fieldset>
    <div id="prime-box-area">
      <div id="box-1" class="prime-box" style="display: none">10</div>
      <div id="box-2" class="prime-box" style="display: none">10</div>
      <div id="box-3" class="prime-box" style="display: none">10</div>
      <div id="box-4" class="prime-box" style="display: none">10</div>
      <div id="box-5" class="prime-box" style="display: none">10</div>
    </div>
  <input type="button" id="make-prime-boxes" value="Button">
</fieldset>

<script>
    var PRIME_COLORS = ['orange', 'midnightblue', 'darkgoldenrod', 'green', 'purple'];
    var NUM_PRIMES = 5;

    function pickColor(colorList) {
        randomIndex = Math.floor(Math.random() * colorList.length);
        return colorList[randomIndex];
    }

    function shuffleColors(colorList) {

    for (var idx = colorList.length - 1; idx > 0; idx--) {
        // Select random index
        var randomIdx = Math.floor(Math.random() * (idx + 1));
        // Hold the value for the current index
        var holdIdx = colorList[idx];
        // Replace the value for the current index with the value for the random index
        colorList[idx] = colorList[randomIdx];
        // Replace the value for the random index with the original value of the current index
        colorList[randomIdx] = holdIdx;

    return colorList;
    }
    }

    function getPrimes(lastPrime) {
        var primeNums= [];

        for (i = lastPrime + 1; primeNums.length < NUM_PRIMES; i++) {
            var notPrime = false;

            for (a = 2; a < i-1; a++) {
                if (i % a == 0) {
                    notPrime = true;
                }
            }

            if (notPrime == false) {
                primeNums.push(i); 
            }
        }
    return primeNums;
    }


    function generateBoxes(evt) {

        shuffledPrimeColors = shuffleColors(PRIME_COLORS);
        primeNums = getPrimes(11);

        for (i = 1; i < NUM_PRIMES + 1; i++) {
        // We have the same number of prime divs and prime colors
        // BUT: Our first div is numbered 1, while our first color is at index 0
        newColor = shuffledPrimeColors[i - 1];
        $('#box-' + i).text(primeNums[i - 1]);
        $('#box-' + i).attr('style', 'display: inline-block; background-color: ' + newColor);

        }
    }

    $('#make-prime-boxes').on('click', generateBoxes);
</script>




<h3>CSS Stuff</h3>
<p>
  This isn't so much of an exercise, but those of you interested in more intermediate/complex
  CSS, take a look at the CSS we use on this page&mdash;it shows off some interesting pseudo-selectors
  like <code>:before</code> and uses things like CSS numbering. Neat stuff.
</p>





<script>
  // Blink text FTW!

  var blinkies = document.getElementsByTagName("blink");

  function blink() {
    for (var i = 0; i < blinkies.length; i++) {
      var item = blinkies[i];
      if (item.style.color == 'white') {
        item.style.color = 'black';
      } else {
        item.style.color = 'white';
      }
    }
  }
  setInterval(blink, 500);
</script>


<script src="js-skills.js"></script>
</body>
</html>